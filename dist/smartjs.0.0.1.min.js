function require(t){var e=require.modules[t];if(!e)throw new Error('failed to require "'+t+'"');return"exports"in e||"function"!=typeof e.definition||(e.client=e.component=!0,e.definition.call(this,e.exports={},e),delete e.definition),e.exports}require.loader="component",require.helper={},require.helper.semVerSort=function(t,e){for(var n=t.version.split("."),i=e.version.split("."),r=0;r<n.length;++r){var o=parseInt(n[r],10),a=parseInt(i[r],10);if(o!==a)return o>a?1:-1;var s=n[r].substr((""+o).length),u=i[r].substr((""+a).length);if(""===s&&""!==u)return 1;if(""!==s&&""===u)return-1;if(""!==s&&""!==u)return s>u?1:-1}return 0},require.latest=function(t,e){function n(t){throw new Error('failed to find latest module of "'+t+'"')}var i=/(.*)~(.*)@v?(\d+\.\d+\.\d+[^\/]*)$/,r=/(.*)~(.*)/;r.test(t)||n(t);for(var o=Object.keys(require.modules),a=[],s=[],u=0;u<o.length;u++){var c=o[u];if(new RegExp(t+"@").test(c)){var l=c.substr(t.length+1),h=i.exec(c);null!=h?a.push({version:l,name:c}):s.push({version:l,name:c})}}if(0===a.concat(s).length&&n(t),a.length>0){var p=a.sort(require.helper.semVerSort).pop().name;return e===!0?p:require(p)}var p=s.sort(function(t,e){return t.name>e.name})[0].name;return e===!0?p:require(p)},require.modules={},require.register=function(t,e){require.modules[t]={definition:e}},require.define=function(t,e){require.modules[t]={exports:e}},require.register("./lib/underscore",function(t,e){(function(){var n=this,i=n._,r=Array.prototype,o=Object.prototype,a=Function.prototype,s=r.push,u=r.slice,c=r.concat,l=o.toString,h=o.hasOwnProperty,p=Array.isArray,f=Object.keys,d=a.bind,m=function(t){return t instanceof m?t:this instanceof m?void(this._wrapped=t):new m(t)};"undefined"!=typeof t?("undefined"!=typeof e&&e.exports&&(t=e.exports=m),t._=m):n._=m,m.VERSION="1.7.0";var g=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}};m.iteratee=function(t,e,n){return null==t?m.identity:m.isFunction(t)?g(t,e,n):m.isObject(t)?m.matches(t):m.property(t)},m.each=m.forEach=function(t,e,n){if(null==t)return t;e=g(e,n);var i,r=t.length;if(r===+r)for(i=0;r>i;i++)e(t[i],i,t);else{var o=m.keys(t);for(i=0,r=o.length;r>i;i++)e(t[o[i]],o[i],t)}return t},m.map=m.collect=function(t,e,n){if(null==t)return[];e=m.iteratee(e,n);for(var i,r=t.length!==+t.length&&m.keys(t),o=(r||t).length,a=Array(o),s=0;o>s;s++)i=r?r[s]:s,a[s]=e(t[i],i,t);return a};var v="Reduce of empty array with no initial value";m.reduce=m.foldl=m.inject=function(t,e,n,i){null==t&&(t=[]),e=g(e,i,4);var r,o=t.length!==+t.length&&m.keys(t),a=(o||t).length,s=0;if(arguments.length<3){if(!a)throw new TypeError(v);n=t[o?o[s++]:s++]}for(;a>s;s++)r=o?o[s]:s,n=e(n,t[r],r,t);return n},m.reduceRight=m.foldr=function(t,e,n,i){null==t&&(t=[]),e=g(e,i,4);var r,o=t.length!==+t.length&&m.keys(t),a=(o||t).length;if(arguments.length<3){if(!a)throw new TypeError(v);n=t[o?o[--a]:--a]}for(;a--;)r=o?o[a]:a,n=e(n,t[r],r,t);return n},m.find=m.detect=function(t,e,n){var i;return e=m.iteratee(e,n),m.some(t,function(t,n,r){return e(t,n,r)?(i=t,!0):void 0}),i},m.filter=m.select=function(t,e,n){var i=[];return null==t?i:(e=m.iteratee(e,n),m.each(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i)},m.reject=function(t,e,n){return m.filter(t,m.negate(m.iteratee(e)),n)},m.every=m.all=function(t,e,n){if(null==t)return!0;e=m.iteratee(e,n);var i,r,o=t.length!==+t.length&&m.keys(t),a=(o||t).length;for(i=0;a>i;i++)if(r=o?o[i]:i,!e(t[r],r,t))return!1;return!0},m.some=m.any=function(t,e,n){if(null==t)return!1;e=m.iteratee(e,n);var i,r,o=t.length!==+t.length&&m.keys(t),a=(o||t).length;for(i=0;a>i;i++)if(r=o?o[i]:i,e(t[r],r,t))return!0;return!1},m.contains=m.include=function(t,e){return null==t?!1:(t.length!==+t.length&&(t=m.values(t)),m.indexOf(t,e)>=0)},m.invoke=function(t,e){var n=u.call(arguments,2),i=m.isFunction(e);return m.map(t,function(t){return(i?e:t[e]).apply(t,n)})},m.pluck=function(t,e){return m.map(t,m.property(e))},m.where=function(t,e){return m.filter(t,m.matches(e))},m.findWhere=function(t,e){return m.find(t,m.matches(e))},m.max=function(t,e,n){var i,r,o=-(1/0),a=-(1/0);if(null==e&&null!=t){t=t.length===+t.length?t:m.values(t);for(var s=0,u=t.length;u>s;s++)i=t[s],i>o&&(o=i)}else e=m.iteratee(e,n),m.each(t,function(t,n,i){r=e(t,n,i),(r>a||r===-(1/0)&&o===-(1/0))&&(o=t,a=r)});return o},m.min=function(t,e,n){var i,r,o=1/0,a=1/0;if(null==e&&null!=t){t=t.length===+t.length?t:m.values(t);for(var s=0,u=t.length;u>s;s++)i=t[s],o>i&&(o=i)}else e=m.iteratee(e,n),m.each(t,function(t,n,i){r=e(t,n,i),(a>r||r===1/0&&o===1/0)&&(o=t,a=r)});return o},m.shuffle=function(t){for(var e,n=t&&t.length===+t.length?t:m.values(t),i=n.length,r=Array(i),o=0;i>o;o++)e=m.random(0,o),e!==o&&(r[o]=r[e]),r[e]=n[o];return r},m.sample=function(t,e,n){return null==e||n?(t.length!==+t.length&&(t=m.values(t)),t[m.random(t.length-1)]):m.shuffle(t).slice(0,Math.max(0,e))},m.sortBy=function(t,e,n){return e=m.iteratee(e,n),m.pluck(m.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index-e.index}),"value")};var y=function(t){return function(e,n,i){var r={};return n=m.iteratee(n,i),m.each(e,function(i,o){var a=n(i,o,e);t(r,i,a)}),r}};m.groupBy=y(function(t,e,n){m.has(t,n)?t[n].push(e):t[n]=[e]}),m.indexBy=y(function(t,e,n){t[n]=e}),m.countBy=y(function(t,e,n){m.has(t,n)?t[n]++:t[n]=1}),m.sortedIndex=function(t,e,n,i){n=m.iteratee(n,i,1);for(var r=n(e),o=0,a=t.length;a>o;){var s=o+a>>>1;n(t[s])<r?o=s+1:a=s}return o},m.toArray=function(t){return t?m.isArray(t)?u.call(t):t.length===+t.length?m.map(t,m.identity):m.values(t):[]},m.size=function(t){return null==t?0:t.length===+t.length?t.length:m.keys(t).length},m.partition=function(t,e,n){e=m.iteratee(e,n);var i=[],r=[];return m.each(t,function(t,n,o){(e(t,n,o)?i:r).push(t)}),[i,r]},m.first=m.head=m.take=function(t,e,n){return null!=t?null==e||n?t[0]:0>e?[]:u.call(t,0,e):void 0},m.initial=function(t,e,n){return u.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},m.last=function(t,e,n){return null!=t?null==e||n?t[t.length-1]:u.call(t,Math.max(t.length-e,0)):void 0},m.rest=m.tail=m.drop=function(t,e,n){return u.call(t,null==e||n?1:e)},m.compact=function(t){return m.filter(t,m.identity)};var b=function(t,e,n,i){if(e&&m.every(t,m.isArray))return c.apply(i,t);for(var r=0,o=t.length;o>r;r++){var a=t[r];m.isArray(a)||m.isArguments(a)?e?s.apply(i,a):b(a,e,n,i):n||i.push(a)}return i};m.flatten=function(t,e){return b(t,e,!1,[])},m.without=function(t){return m.difference(t,u.call(arguments,1))},m.uniq=m.unique=function(t,e,n,i){if(null==t)return[];m.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=m.iteratee(n,i));for(var r=[],o=[],a=0,s=t.length;s>a;a++){var u=t[a];if(e)a&&o===u||r.push(u),o=u;else if(n){var c=n(u,a,t);m.indexOf(o,c)<0&&(o.push(c),r.push(u))}else m.indexOf(r,u)<0&&r.push(u)}return r},m.union=function(){return m.uniq(b(arguments,!0,!0,[]))},m.intersection=function(t){if(null==t)return[];for(var e=[],n=arguments.length,i=0,r=t.length;r>i;i++){var o=t[i];if(!m.contains(e,o)){for(var a=1;n>a&&m.contains(arguments[a],o);a++);a===n&&e.push(o)}}return e},m.difference=function(t){var e=b(u.call(arguments,1),!0,!0,[]);return m.filter(t,function(t){return!m.contains(e,t)})},m.zip=function(t){if(null==t)return[];for(var e=m.max(arguments,"length").length,n=Array(e),i=0;e>i;i++)n[i]=m.pluck(arguments,i);return n},m.object=function(t,e){if(null==t)return{};for(var n={},i=0,r=t.length;r>i;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},m.indexOf=function(t,e,n){if(null==t)return-1;var i=0,r=t.length;if(n){if("number"!=typeof n)return i=m.sortedIndex(t,e),t[i]===e?i:-1;i=0>n?Math.max(0,r+n):n}for(;r>i;i++)if(t[i]===e)return i;return-1},m.lastIndexOf=function(t,e,n){if(null==t)return-1;var i=t.length;for("number"==typeof n&&(i=0>n?i+n+1:Math.min(i,n+1));--i>=0;)if(t[i]===e)return i;return-1},m.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;i>o;o++,t+=n)r[o]=t;return r};var w=function(){};m.bind=function(t,e){var n,i;if(d&&t.bind===d)return d.apply(t,u.call(arguments,1));if(!m.isFunction(t))throw new TypeError("Bind must be called on a function");return n=u.call(arguments,2),i=function(){if(!(this instanceof i))return t.apply(e,n.concat(u.call(arguments)));w.prototype=t.prototype;var r=new w;w.prototype=null;var o=t.apply(r,n.concat(u.call(arguments)));return m.isObject(o)?o:r}},m.partial=function(t){var e=u.call(arguments,1);return function(){for(var n=0,i=e.slice(),r=0,o=i.length;o>r;r++)i[r]===m&&(i[r]=arguments[n++]);for(;n<arguments.length;)i.push(arguments[n++]);return t.apply(this,i)}},m.bindAll=function(t){var e,n,i=arguments.length;if(1>=i)throw new Error("bindAll must be passed function names");for(e=1;i>e;e++)n=arguments[e],t[n]=m.bind(t[n],t);return t},m.memoize=function(t,e){var n=function(i){var r=n.cache,o=e?e.apply(this,arguments):i;return m.has(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n},m.delay=function(t,e){var n=u.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},m.defer=function(t){return m.delay.apply(m,[t,1].concat(u.call(arguments,1)))},m.throttle=function(t,e,n){var i,r,o,a=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:m.now(),a=null,o=t.apply(i,r),a||(i=r=null)};return function(){var c=m.now();s||n.leading!==!1||(s=c);var l=e-(c-s);return i=this,r=arguments,0>=l||l>e?(clearTimeout(a),a=null,s=c,o=t.apply(i,r),a||(i=r=null)):a||n.trailing===!1||(a=setTimeout(u,l)),o}},m.debounce=function(t,e,n){var i,r,o,a,s,u=function(){var c=m.now()-a;e>c&&c>0?i=setTimeout(u,e-c):(i=null,n||(s=t.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,a=m.now();var c=n&&!i;return i||(i=setTimeout(u,e)),c&&(s=t.apply(o,r),o=r=null),s}},m.wrap=function(t,e){return m.partial(e,t)},m.negate=function(t){return function(){return!t.apply(this,arguments)}},m.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},m.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},m.before=function(t,e){var n;return function(){return--t>0?n=e.apply(this,arguments):e=null,n}},m.once=m.partial(m.before,2),m.keys=function(t){if(!m.isObject(t))return[];if(f)return f(t);var e=[];for(var n in t)m.has(t,n)&&e.push(n);return e},m.values=function(t){for(var e=m.keys(t),n=e.length,i=Array(n),r=0;n>r;r++)i[r]=t[e[r]];return i},m.pairs=function(t){for(var e=m.keys(t),n=e.length,i=Array(n),r=0;n>r;r++)i[r]=[e[r],t[e[r]]];return i},m.invert=function(t){for(var e={},n=m.keys(t),i=0,r=n.length;r>i;i++)e[t[n[i]]]=n[i];return e},m.functions=m.methods=function(t){var e=[];for(var n in t)m.isFunction(t[n])&&e.push(n);return e.sort()},m.extend=function(t){if(!m.isObject(t))return t;for(var e,n,i=1,r=arguments.length;r>i;i++){e=arguments[i];for(n in e)h.call(e,n)&&(t[n]=e[n])}return t},m.pick=function(t,e,n){var i,r={};if(null==t)return r;if(m.isFunction(e)){e=g(e,n);for(i in t){var o=t[i];e(o,i,t)&&(r[i]=o)}}else{var a=c.apply([],u.call(arguments,1));t=new Object(t);for(var s=0,l=a.length;l>s;s++)i=a[s],i in t&&(r[i]=t[i])}return r},m.omit=function(t,e,n){if(m.isFunction(e))e=m.negate(e);else{var i=m.map(c.apply([],u.call(arguments,1)),String);e=function(t,e){return!m.contains(i,e)}}return m.pick(t,e,n)},m.defaults=function(t){if(!m.isObject(t))return t;for(var e=1,n=arguments.length;n>e;e++){var i=arguments[e];for(var r in i)void 0===t[r]&&(t[r]=i[r])}return t},m.clone=function(t){return m.isObject(t)?m.isArray(t)?t.slice():m.extend({},t):t},m.tap=function(t,e){return e(t),t};var x=function(t,e,n,i){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof m&&(t=t._wrapped),e instanceof m&&(e=e._wrapped);var r=l.call(t);if(r!==l.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=n.length;o--;)if(n[o]===t)return i[o]===e;var a=t.constructor,s=e.constructor;if(a!==s&&"constructor"in t&&"constructor"in e&&!(m.isFunction(a)&&a instanceof a&&m.isFunction(s)&&s instanceof s))return!1;n.push(t),i.push(e);var u,c;if("[object Array]"===r){if(u=t.length,c=u===e.length)for(;u--&&(c=x(t[u],e[u],n,i)););}else{var h,p=m.keys(t);if(u=p.length,c=m.keys(e).length===u)for(;u--&&(h=p[u],c=m.has(e,h)&&x(t[h],e[h],n,i)););}return n.pop(),i.pop(),c};m.isEqual=function(t,e){return x(t,e,[],[])},m.isEmpty=function(t){if(null==t)return!0;if(m.isArray(t)||m.isString(t)||m.isArguments(t))return 0===t.length;for(var e in t)if(m.has(t,e))return!1;return!0},m.isElement=function(t){return!(!t||1!==t.nodeType)},m.isArray=p||function(t){return"[object Array]"===l.call(t)},m.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},m.each(["Arguments","Function","String","Number","Date","RegExp"],function(t){m["is"+t]=function(e){return l.call(e)==="[object "+t+"]"}}),m.isArguments(arguments)||(m.isArguments=function(t){return m.has(t,"callee")}),"function"!=typeof/./&&(m.isFunction=function(t){return"function"==typeof t||!1}),m.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},m.isNaN=function(t){return m.isNumber(t)&&t!==+t},m.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===l.call(t)},m.isNull=function(t){return null===t},m.isUndefined=function(t){return void 0===t},m.has=function(t,e){return null!=t&&h.call(t,e)},m.noConflict=function(){return n._=i,this},m.identity=function(t){return t},m.constant=function(t){return function(){return t}},m.noop=function(){},m.property=function(t){return function(e){return e[t]}},m.matches=function(t){var e=m.pairs(t),n=e.length;return function(t){if(null==t)return!n;t=new Object(t);for(var i=0;n>i;i++){var r=e[i],o=r[0];if(r[1]!==t[o]||!(o in t))return!1}return!0}},m.times=function(t,e,n){var i=Array(Math.max(0,t));e=g(e,n,1);for(var r=0;t>r;r++)i[r]=e(r);return i},m.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},m.now=Date.now||function(){return(new Date).getTime()};var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},E=m.invert(k),T=function(t){var e=function(e){return t[e]},n="(?:"+m.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};m.escape=T(k),m.unescape=T(E),m.result=function(t,e){if(null!=t){var n=t[e];return m.isFunction(n)?t[e]():n}};var S=0;m.uniqueId=function(t){var e=++S+"";return t?t+e:e},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var A=/(.)^/,C={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},q=/\\|'|\r|\n|\u2028|\u2029/g,I=function(t){return"\\"+C[t]};m.template=function(t,e,n){!e&&n&&(e=n),e=m.defaults({},e,m.templateSettings);var i=RegExp([(e.escape||A).source,(e.interpolate||A).source,(e.evaluate||A).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(i,function(e,n,i,a,s){return o+=t.slice(r,s).replace(q,I),r=s+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(e.variable||"obj","_",o)}catch(s){throw s.source=o,s}var u=function(t){return a.call(this,t,m)},c=e.variable||"obj";return u.source="function("+c+"){\n"+o+"}",u},m.chain=function(t){var e=m(t);return e._chain=!0,e};var D=function(t){return this._chain?m(t).chain():t};m.mixin=function(t){m.each(m.functions(t),function(e){var n=m[e]=t[e];m.prototype[e]=function(){var t=[this._wrapped];return s.apply(t,arguments),D.call(this,n.apply(m,t))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=r[t];m.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],D.call(this,n)}}),m.each(["concat","join","slice"],function(t){var e=r[t];m.prototype[t]=function(){return D.call(this,e.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}).call(this)}),require.register("./lib/util",function(t,e){var n=require("./lib/underscore"),r={};r.match=function(t,e){var i="";return this.isArray(e)?(n.each(e,function(t){i=i+t+"|"}),i=i.substr(0,i.length-1)):i=e,reg=new RegExp(i),reg.test(t)},r.getContentByName=function(t){return 1==document.getElementsByName(t).length?document.getElementsByName(t)[0].getAttribute("content"):!1},r.clearKey=function(t,e){n.has(t,e)&&delete t[e]},r.clearKeys=function(t,e){var i=this;i.isString(e)?i.clearKey(t,e):i.isArray(e)?n.each(e,function(e){i.clearKey(t,e)}):i.isObject(e)&&n.each(e,function(e,n){i.clearKey(t,n)})},r.replace=function(t,e,n){return t=t.replace(new RegExp(e,"gm"),n)},r.eval=function(t){var e="("+t+")",n=Function;return new n("return "+e)()},r.getScript=function(t,e){var n=document.getElementsByTagName("head")[0]||document.documentElement,i=document.createElement("script");i.async="true",i.src=t;var r=!1;i.onload=i.onreadystatechange=function(){if(!(r||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState)){r=!0;try{e(i)}catch(t){}i.onload=i.onreadystatechange=null}},n.insertBefore(i,n.firstChild)},r.getCss=function(t,e){var n=document.getElementsByTagName("head")[0]||document.documentElement,i=document.createElement("link");i.async="true",i.href=t,i.rel="stylesheet",i.type="text/css";var r=!1;i.onload=i.onreadystatechange=function(){if(!(r||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState)){r=!0;try{e(i)}catch(t){}i.onload=i.onreadystatechange=null}},n.insertBefore(i,n.firstChild)},r.stringToVars=function(t){var e,n={},r=unescape(t).split("&");for(i=0;i<r.length;)r[i].indexOf("=")>0&&(e=r[i].split("="),n[e[0]]=e[1]),i++;return n},r.varsToString=function(t){var e="";for(var n in t)e+=n+"="+t[n+""]+"&";return e=e.substr(0,e.length-1)},r.intToString=function(t,e,n){n||(n="0");var i;for(i=this.isString(t)?t:t.toString();i.length<e;)i=n+i;return i},r.nano=function(t,e){return t.replace(/\{([\w\.]*)\}/g,function(t,n){for(var i=n.split("."),r=e[i.shift()],o=0,a=i.length;a>o;o++)r=r[i[o]];return"undefined"!=typeof r&&null!==r?r:""})},r.isString=function(t){return"[object String]"===Object.prototype.toString.call(t)},r.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},r.isNumber=function(t){return"[object Number]"===Object.prototype.toString.call(t)},r.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},r.getTime=function(){return Date.now?Date.now():(new Date).getTime()},Date.prototype.format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in e)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t},e.exports=r}),require.register("./lib/css",function(t,e){function n(t){var e={scaleX:1,scaleY:1};i.has(t,"scale")&&(e.scaleX=t.scale,e.scaleY=t.scale,delete t.scale),i.has(t,"scaleX")&&(e.scaleX=t.scaleX,delete t.scaleX),i.has(t,"scaleY")&&(e.scaleY=t.scaleY,delete t.scaleY),t.scaleString="scale("+e.scaleX+","+e.scaleY+") "}var i=require("./lib/underscore"),r=require("./lib/util"),o={};o.fixValue=function(t,e){return r.isString(t)&&r.match(t,"px$|%$|cm$|em$|rem$|pt$|ms$|s$")?t:(e||(e="px"),t=parseFloat(t),t+e)},o.withExt=function(t,e,n){return r.isString(t)&&r.match(t,"width|height|top|left|right|bottom|margin|padding|size")?this.fixValue(e,n):e},o.fixCss=function(t,e){return cssObj={},cssObj[t]=e,cssObj["-webkit-"+t]=e,cssObj["-moz-"+t]=e,cssObj["-ms-"+t]=e,cssObj["-o-"+t]=e,cssObj},o.transitionObject=function(t){var e=i.extend({property:"all",duration:0,delay:0,func:"ease"},t),n=this,r={};return i.each(e,function(t,e){switch(e){case"property":r=i.extend(r,n.fixCss("transition-property",t));break;case"duration":r=i.extend(r,n.fixCss("transition-duration",t));break;case"func":r=i.extend(r,n.fixCss("transition-timing-function",t));break;case"delay":r=i.extend(r,n.fixCss("transition-delay",t))}}),r},o.transformObject=function(t,e){return this.fixCss("transform",this.transformString(t,e))},o.transformString=function(t,e){var r=this,o="";return t=i.clone(t),n(t),i.each(t,function(t,n){switch(n){case"x":o+="translateX("+r.fixValue(t,e)+") ";break;case"y":o+="translateY("+r.fixValue(t,e)+") ";break;case"scaleString":o+=t;break;case"rotate":o+="rotate("+r.fixValue(t,"deg")+") ";break;case"rotateX":o+="rotateX("+r.fixValue(t,"deg")+") ";break;case"rotateY":o+="rotateY("+r.fixValue(t,"deg")+") ";break;case"rotateZ":o+="rotateZ("+r.fixValue(t,"deg")+") "}}),o},o.transformOriginObject=function(t,e,n){return this.fixCss("transform-origin",this.fixValue(t,n)+" "+this.fixValue(e,n))},o.animationDurationObject=function(t){return this.fixCss("animation-duration",this.fixValue(t,"s"))},o.animationDelayObject=function(t){return this.fixCss("animation-delay",this.fixValue(t,"s"))},o.smartObject=function(t,e){var n=this;t=i.clone(t);var o=this.transformObject(t,e);return r.clearKeys(t,["x","y","scale","scaleX","scaleY","rotate","rotateX","rotateY"]),i.each(t,function(i,r){t[r]=n.withExt(r,i,e)}),i.extend(t,o)},e.exports=o}),require.register("./lib/size",function(t,e){function n(t,e,n,i){this.x=t||0,this.y=e||0,this.width=n||0,this.height=i||0}require("./lib/underscore");n.prototype.fixInRec=function(t){var e=this,n={width:0,height:0},i=e.width/e.height,r=t.width/t.height;return i>r?(n.width=t.width,n.height=n.width/i):(n.height=t.height,n.width=n.height*i),n.x=(t.width-n.width)/2,n.y=(t.height-n.height)/2,n.scale=n.width/e.width,n},n.prototype.fillInRec=function(t){var e=this,n={width:0,height:0},i=e.width/e.height,r=t.width/t.height;return r>i?(n.width=t.width,n.height=n.width/i):(n.height=t.height,n.width=n.height*i),n.x=(t.width-n.width)/2,n.y=(t.height-n.height)/2,n.scale=n.width/e.width,n},e.exports=n}),require.register("./lib/input",function(t,e){var n={};n.TEXT=1,n.NUMBER=2,n.EMAIL=3,n.PASSWORD=4,n.RADIO=6,n.CHECKBOX=7,n.COMBOBOX=8,n.TEXTAREA=9,n.FILE=10,n.IMAGE=11,n.DATE=20,n.DATETIME=21,n.isEmail=function(t){var e=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;return e.test(t)},n.isHttp=function(t){t=t.toLowerCase();var e=/^http:\/\//;return e.test(t)},n.isHttps=function(t){t=t.toLowerCase();var e=/^https:\/\//;return e.test(t)},n.isFlexUrl=function(t){t=t.toLowerCase();var e=/^\/\//;return e.test(t)},n.isLink=function(t){return this.isHttp(t)||this.isHttps(t)},e.exports=n}),require.register("./lib/file",function(t,e){var n=(require("./lib/underscore"),require("./lib/util")),i={};i.jpg=".jpg$|.jpeg$",i.png=".png$",i.gif=".gif$",i.svg=".svg$",i.sql=".sql$",i.excel=".xls$|.xlsx|.xlsm",i.isJpg=function(t){return n.match(t.toLowerCase(),i.jpg)},i.isGif=function(t){return n.match(t.toLowerCase(),i.gif)},i.isPng=function(t){return n.match(t.toLowerCase(),i.png)},i.isSvg=function(t){return n.match(t.toLowerCase(),i.svg)},i.isImage=function(t){return n.match(t.toLowerCase(),[i.jpg,i.gif,i.png])},i.isSql=function(t){return n.match(t.toLowerCase(),i.sql)},i.isExcel=function(t){return n.match(t.toLowerCase(),i.excel)},e.exports=i}),require.register("./lib/event-dispatcher",function(t,e){var n=(require("./lib/underscore"),function(){});n.prototype={constructor:n,apply:function(t){t.addEventListener=n.prototype.addEventListener,t.hasEventListener=n.prototype.hasEventListener,t.removeEventListener=n.prototype.removeEventListener,t.dispatchEvent=n.prototype.dispatchEvent},addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners,i=n[t];if(void 0!==i){var r=i.indexOf(e);-1!==r&&i.splice(r,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners,n=e[t.type];if(void 0!==n){t.target=this;for(var i=[],r=n.length,o=0;r>o;o++)i[o]=n[o];for(var o=0;r>o;o++)i[o].call(this,t)}}}},e.exports=n}),require.register("./lib/file-button",function(t,e){function n(t,e){this.dom=r(t),this.read=e||!0,i.prototype.apply(n.prototype),this.init()}var i=require("./lib/event-dispatcher"),r=window.$,o=0;n.prototype.hiddenFile=function(){this.file.css({height:"0px",width:"0px",overflow:"hidden"})},n.prototype.init=function(){var t=this;o++,t.file=r('<input type="file" style="display:none;width:0px;height:0px;overflow: hidden;" hidden="hidden" id="FileBtton_'+o+'"/>'),t.dom.click(function(){t.file.click()}),t.file.change(function(){var e={type:"change",inputFile:t.file,file:t.file.get(0).files[0]};t.file.hide(),t.dispatchEvent(e)})},e.exports=n}),require.register("./lib/tween",function(t,e){require("./lib/underscore");Tween=function(){function t(t){return"[object Function]"==Object.prototype.toString.call(t)}function e(e,n){if(t(n))e.push(n);else if(e.length)for(var i=Array.prototype.slice.call(arguments,1),r=0,o=e.length;o>r;r++)e[r].apply(null,i)}function n(t){return t["in"]=t,t.out=function(e){return 1-t(1-e)},t.inOut=function(e){return.5>=e?t(2*e)/2:(2-t(2*(1-e)))/2},t}function i(t,e){var n={};for(var i in e)n[i]=t[i];return n}function r(){return Date.now()}function o(t,e,n){this.startTime=r(),this.duration=e,this.options=n,this.target=t,this.easing=y.Linear,this.onStart=[],this.onStep=[],this.onDone=[],this.progress=0,this.paused=!1,this.alive=!0,this.delay=0}function a(){if(g){for(var t,n,o,s,u,c=v.length-1;c>=0;c--){if(t=v[c],t.alive){if(n=.001*(r()-t.startTime),n>t.delay&&!t.paused){0===t.progress&&(t.initial=i(t.target,t.options),e(t.onStart,t)),t.progress=(n-t.delay)/t.duration,t.progress=Math.max(0,Math.min(t.progress,1));for(o in t.options)s=t.initial[o],u=t.options[o],t.target[o]=s+(u-s)*t.easing(t.progress);e(t.onStep,t)}t.progress>=1&&(t.alive=!1,e(t.onDone,t))}t.alive||v.splice(c,1)}v.length?m=d(a):g=!1}}function s(){g||(m=d(a),g=!0)}function u(t){return v.push(t),s(),t}Date.now||(Date.now=function(){return(new Date).getTime()});var c=Math.PI,l=Math.acos,h=Math.pow,p=Math.cos,f=Math.sin,d=requestAnimationFrame;cancelAnimationFrame;o.prototype={wait:function(t){return this.delay=t,this},ease:function(t){return this.easing=t,this},kill:function(){return this.alive=!1,this},start:function(t){return e(this.onStart,t),this},pause:function(){this.paused||(this.pauseTime=r(),this.paused=!0)},play:function(){this.paused&&(this.startTime+=r()-this.pauseTime,this.paused=!1)},step:function(t){return e(this.onStep,t),this},done:function(t){return e(this.onDone,t),this}};var m,g=!1,v=[],y={Linear:n(function(t){return t}),Elastic:n(function(t){return h(2,10*--t)*p(20*t*c*1/3)}),Bounce:n(function(t){for(var e,n=0,i=1;1;n+=i,i/=2)if(t>=(7-4*n)/11){e=-h((11-6*n-11*t)/4,2)+i*i;break}return e}),Back:n(function(t){return h(t,2)*((1.618+1)*t-1.618)}),Sine:n(function(t){return 1-f((1-t)*c/2)}),Circ:n(function(t){return 1-f(l(t))}),Expo:n(function(t){return h(2,10*(t-1))}),Quad:n(function(t){return h(t,2)}),Cubic:n(function(t){return h(t,3)}),Quart:n(function(t){return h(t,4)}),Quint:n(function(t){return h(t,5)}),to:function(t,e,n){var i=new o(t,e,n);return u(i)}};return y}(),e.exports=Tween}),require.register("./lib/drag",function(t,e){function n(t){if(s){var e=t.originalEvent.targetTouches[0];return e||(e=t.originalEvent.changedTouches[0]),{x:e.clientX,y:e.clientY}}return{x:t.originalEvent.clientX,y:t.originalEvent.clientY}}var i=require("./lib/underscore"),r=window.$,o=require("./lib/event-dispatcher"),a=require("./lib/tween"),s=!!("ontouchstart"in window),u=function(t,e){var n={minX:0,maxX:100,minY:0,maxY:0,scaleX:1,scaleY:1,startDom:!1};this.opt=i.extend(n,e),this.opt.width=this.opt.maxX-this.opt.minX,this.opt.height=this.opt.maxY-this.opt.minY,this.dom=r(t),0==this.opt.startDom?this.startDom=this.dom:this.startDom=r(this.opt.startDom),this.init()};u.prototype.init=function(){function t(t){return t.x=t.x/i.opt.scaleX,t.y=t.y/i.opt.scaleY,{x:l.x+t.x,y:l.y+t.y}}o.prototype.apply(u.prototype);var e,i=this,c={x:0,y:0},l={x:0,y:0};i.updateScale=function(t,e){i.opt.scaleX=t,i.opt.scaleY=e},i.setValue=function(t,e){var n={};n.x=t*i.opt.width+i.opt.minX,n.y=e*i.opt.height+i.opt.minY,i.update(n),i.dispatchEvent({type:"update"})},i.destroy=function(){r(window).unbind(i.evs.move,i.dragMove),r(window).unbind(i.evs.end,i.dragEnd),i.startDom.unbind(i.evs.start,i.dragStart)},i.tweenTo=function(t,e,n,r){r||(r=a.Sine.inOut),n||(n=.5);var o={valueX:i.valueX,valueY:i.valueY};return i.tween_obj=a.to(o,n,{valueX:t,valueY:e}).ease(r).step(function(t){i.setValue(t.target.valueX,t.target.valueY)}),i.tween_obj},i.update=function(t){t.x=Math.max(Math.min(t.x,i.opt.maxX),i.opt.minX),t.y=Math.max(Math.min(t.y,i.opt.maxY),i.opt.minY),0==i.opt.width?i.valueX=0:i.valueX=(t.x-i.opt.minX)/i.opt.width,0==i.opt.height?i.valueY=0:i.valueY=(t.y-i.opt.minY)/i.opt.height,i.dom.css({"margin-left":t.x,"margin-top":t.y})},i.dragMove=function(r){var o=n(r);c.x=o.x-e.x,c.y=o.y-e.y,i.update(t(c)),i.dispatchEvent({type:"update"})},i.dragEnd=function(o){var a=n(o);c.x=a.x-e.x,c.y=a.y-e.y,i.update(t(c)),r(window).unbind(i.evs.move,i.dragMove),r(window).unbind(i.evs.end,i.dragEnd),i.startDom.bind(i.evs.start,i.dragStart),i.dispatchEvent({type:"end"})},i.dragStart=function(o){i.tween_obj&&i.tween_obj.kill(),l.x=parseFloat(i.dom.css("margin-left")),l.y=parseFloat(i.dom.css("margin-top")),e=n(o),c.x=c.y=0,i.update(t(c)),r(window).bind(i.evs.move,i.dragMove),r(window).bind(i.evs.end,i.dragEnd),i.startDom.unbind(i.evs.start,i.dragStart),i.dispatchEvent({type:"start"})},i.evs=function(){return s?{start:"touchstart",move:"touchmove",end:"touchend"}:{start:"mousedown",move:"mousemove",end:"mouseup"}}();var h=function(t){t.preventDefault(),t.stopPropagation()};i.dom.bind("selectstart",h),i.dom.bind("dragstart",h),i.startDom.bind(i.evs.start,i.dragStart)},e.exports=u}),require.register("./lib/sound",function(t,e){function n(t){this.init(t)}var i=require("./lib/underscore"),r=require("./lib/event-dispatcher");n.prototype={init:function(t){var e=this;if(r.prototype.apply(n.prototype),this.config=i.extend({autoload:!1},t),this.config.path){this.audio=new Audio(this.config.path);for(var o in this.config)this.config.hasOwnProperty(o)&&o in this.audio&&(this.audio[o]=this.config[o]);this.audio.onended=function(){e.dispatchEvent({type:"onended"})},this.audio.oncanplay=function(){e.dispatchEvent({type:"oncanplay"})},this.audio.onloadeddata=function(){e.dispatchEvent({type:"onloadeddata"})},this.audio.load()}else console.log("path is need")},play:function(){this.audio.play(),this.dispatchEvent({type:"play"})},destory:function(){this.audio.src=""},pause:function(){this.audio.pause(),this.dispatchEvent({type:"pause"})},playing:function(){return!this.audio.paused},currentTime:function(){return this.audio.currentTime},duration:function(){return this.audio.duration},onended:function(){this.dispatchEvent({type:"stop"})},stop:function(){this.audio.pause(),this.dispatchEvent({type:"stop"})},toggle:function(){this.audio.paused?this.play():this.pause();
},seek:function(t){this.audio.currentTime=parseInt(t,10)},percent:function(){return this.audio.currentTime/this.audio.duration||0}},e.exports=n}),require.register("./lib/ui-go-mark",function(t,e){function n(t,e){this.dom=r(t),this.init(e)}var i=require("./lib/underscore"),r=window.$;n.prototype.init=function(t){var e=this;e.opt=i.extend({time:500,type:"y",body:"html,body",mark:"body"},t),e.dom.click(function(){e.goTop()})},n.prototype.goPosition=function(t,e,n,i){var o=this,a={};e=e||0,n=n||500,i=i||function(){},a.scrollTop=t+"px",a.scrollLeft=e+"px",r(o.opt.body).animate(a,n,function(){i&&i(o)})},n.prototype.goTop=function(){var t=this,e=r(t.opt.mark);e.offset()||(e=r(e.first()));var n=e.offset(),i={};"x"!=t.opt.type&&(i.scrollTop=n.top+"px"),"y"!=t.opt.type&&(i.scrollLeft=n.left+"px"),window.Zepto?console.log("UIGoMark is not support Zepto"):r(t.opt.body).animate(i,t.opt.time,function(){t.opt.callback&&t.opt.callback(t)})},e.exports=n}),require.register("./lib/css-animations",function(t,e){!function(t,n){"function"==typeof define&&define.amd?define(function(){return n(t,t.document)}):"undefined"!=typeof e&&e.exports?e.exports=n(t,t.document):t.CSSAnimations=n(t,t.document)}("undefined"!=typeof window?window:this,function(t,e){function n(t,e){for(var i=t.cssRules||t.rules||[],r=0;r<i.length;r++){var o=i[r];o.type==CSSRule.IMPORT_RULE?n(o.styleSheet,e):o.type!==CSSRule.KEYFRAMES_RULE&&o.type!==CSSRule.MOZ_KEYFRAMES_RULE&&o.type!==CSSRule.WEBKIT_KEYFRAMES_RULE||e(o,t,r)}}function i(t){this.original=t,this.keyText=t.keyText,this.css={};for(var e=t.style.cssText.split(";"),n=0;n<e.length;n++){var i=e[n].split(":");if(2==i.length){var r=i[0].replace(/^\s+|\s+$/g,""),o=i[1].replace(/^\s+|\s+$/g,"");this.css[r]=o}}}function r(t){this.original=t,this.name=t.name,this.keyframes=[],this.keytexts=[],this.keyframeHash={},this.initKeyframes()}function o(){this.animations={},this.id=0;for(var t=e.styleSheets,i=this.animations,o=0;o<t.length;o++)try{n(t[o],function(t){i[t.name]=new r(t)})}catch(a){}}var a=require("./lib/underscore"),s=require("./lib/util"),u=require("./lib/css"),c=t.$;return r.prototype.initKeyframes=function(){this.keyframes=[],this.keytexts=[],this.keyframeHash={};for(var t=this.original,e=0;e<t.cssRules.length;e++){var n=new i(t.cssRules[e]);this.keyframes.push(n),this.keytexts.push(n.keyText),this.keyframeHash[n.keyText]=n}},r.prototype.getKeyframeTexts=function(){return this.keytexts},r.prototype.getKeyframe=function(t){return this.keyframeHash[t]},r.prototype.fixStyle=function(t,e){var n=t+":"+e+";";switch(t){case"transform":n+="-webkit-"+t+":"+e+";";break;case"transform-origin":n+="-webkit-"+t+":"+e+";";break;case"transform-style":n+="-webkit-"+t+":"+e+";";break;case"perspective":n+="-webkit-"+t+":"+e+";";break;case"perspective-origin":n+="-webkit-"+t+":"+e+";";break;case"backface-visibility":n+="-webkit-"+t+":"+e+";"}return n},r.prototype.setKeyframe=function(t,e){var n=this,i=t+" {";for(var r in e)i+=n.fixStyle(r,e[r]);return i+="}","appendRule"in this.original?this.original.appendRule(i):this.original.insertRule(i),this.initKeyframes(),this},r.prototype.setKeyframes=function(t){for(var e in t)this.setKeyframe(e,t[e])},r.prototype.clear=function(){for(var t=0;t<this.keyframes.length;t++)this.original.deleteRule(this.keyframes[t].keyText)},o.prototype.get=function(t){return this.animations[t]},o.prototype.getDynamicSheet=function(){if(!this.dynamicSheet){var t=e.createElement("style");t.rel="stylesheet",t.type="text/css",e.getElementsByTagName("head")[0].appendChild(t),this.dynamicSheet=t.sheet}return this.dynamicSheet},o.prototype.createSmartAnimation=function(t,e){var n,i=this,r="px";s.isString(a.last(arguments))?(r=a.last(arguments),n=a.without(arguments,r)):n=arguments;var o={},c=n.length-1;return a.each(n,function(t,e){var n=parseInt(e/c*100)+"%";o[n]=u.smartObject(t,r)}),i.create(o)},o.prototype.create=function(t,e){var n=this.getDynamicSheet();"object"==typeof t&&(e=t,t=null),t||(this.id++,t="johnny_css_animation_"+this.id);try{var i=n.insertRule("@keyframes "+t+"{}",n.cssRules.length)}catch(o){if("SYNTAX_ERR"!=o.name&&"SyntaxError"!=o.name)throw o;i=n.insertRule("@-webkit-keyframes "+t+"{}",n.cssRules.length)}var a=new r(n.cssRules[i]);return this.animations[t]=a,e&&a.setKeyframes(e),a},o.prototype.remove=function(t){var e=this.getDynamicSheet();t=t instanceof r?t.name:t,this.animations[t]=null;try{n(e,function(e,n,i){e.name==t&&n.deleteRule(i)})}catch(i){}},o.prototype.clearAnimationByID=function(t){var n="string"==typeof t?e.getElementById(t):t;n.style.animationName=null;var i=this;i.setCss(n,"animation-name","")},o.prototype.setCss=function(t,e,n){t.style["-webkit-"+e]=n,t.style[e]=n},o.prototype.addAnimation=function(t,e){var n=this;c(t).each(function(){n.addAnimationToID(c(this).get(0),e)})},o.prototype.addAnimationToID=function(t,n){var i="string"==typeof t?e.getElementById(t):t;i.style.animationName=n.name;var r=this;for(var o in n)if(n.hasOwnProperty(o))switch(o){case"name":r.setCss(i,"animation-name",n[o]);break;case"duration":r.setCss(i,"animation-duration",n[o]);break;case"func":r.setCss(i,"animation-timing-function",n[o]);break;case"delay":r.setCss(i,"animation-delay",n[o]);break;case"count":r.setCss(i,"animation-iteration-count",n[o]);break;case"direction":r.setCss(i,"animation-direction",n[o]);break;case"state":r.setCss(i,"animation-play-state",n[o]);break;case"transform-origin":r.setCss(i,"transform-origin",n[o]);break;case"transform":r.setCss(i,"transform",n[o]);break;case"transform-style":r.setCss(i,"transform-style",n[o]);break;case"perspective":r.setCss(i,"perspective",n[o]);break;case"perspective-origin":r.setCss(i,"perspective-origin",n[o]);break;case"backface-visibility":r.setCss(i,"backface-visibility",n[o])}},t.CSSAnimations=new o})}),require.register("./lib/loader",function(t,e){function n(t){t=t||{},this.settings=t,null==t.statusInterval&&(t.statusInterval=5e3),null==t.loggingDelay&&(t.loggingDelay=2e4),null==t.noProgressTimeout&&(t.noProgressTimeout=1/0);var e,n=[],r=[],o=Date.now(),a={QUEUED:0,WAITING:1,LOADED:2,ERROR:3,TIMEOUT:4},s=function(t){return null==t?[]:Array.isArray(t)?t:[t]};this.add=function(t){t.tags=new i(t.tags),null==t.priority&&(t.priority=1/0),n.push({resource:t,status:a.QUEUED})},this.addProgressListener=function(t,e){r.push({callback:t,tags:new i(e)})},this.addCompletionListener=function(t,e){r.push({tags:new i(e),callback:function(e){e.completedCount===e.totalCount&&t(e)}})};var u=function(t){t=s(t);var e=function(e){for(var n=e.resource,i=1/0,r=0;r<n.tags.length;r++)for(var o=0;o<Math.min(t.length,i)&&!(n.tags.all[r]===t[o]&&i>o&&(i=o,0===i))&&0!==i;o++);return i};return function(t,n){var i=e(t),r=e(n);return r>i?-1:i>r?1:t.priority<n.priority?-1:t.priority>n.priority?1:0}};this.start=function(t){e=Date.now();var i=u(t);n.sort(i);for(var r=0,o=n.length;o>r;r++){var s=n[r];s.status=a.WAITING,s.resource.start(this)}setTimeout(c,100)};var c=function(){for(var e=!1,i=Date.now()-o,r=i>=t.noProgressTimeout,s=i>=t.loggingDelay,u=0,l=n.length;l>u;u++){var h=n[u];h.status===a.WAITING&&(h.resource.checkStatus&&h.resource.checkStatus(),h.status===a.WAITING&&(r?h.resource.onTimeout():e=!0))}s&&e&&p(),e&&setTimeout(c,t.statusInterval)};this.isBusy=function(){for(var t=0,e=n.length;e>t;t++)if(n[t].status===a.QUEUED||n[t].status===a.WAITING)return!0;return!1};var l=function(t,e){var i,s,u,c,l,p=null;for(i=0,s=n.length;s>i;i++)if(n[i].resource===t){p=n[i];break}if(null!=p&&p.status===a.WAITING)for(p.status=e,o=Date.now(),u=t.tags.length,i=0,s=r.length;s>i;i++)c=r[i],l=0===c.tags.length?!0:t.tags.intersects(c.tags),l&&h(p,c)};this.onLoad=function(t){l(t,a.LOADED)},this.onError=function(t){l(t,a.ERROR)},this.onTimeout=function(t){l(t,a.TIMEOUT)};var h=function(t,e){var i,r,o,s,u=0,c=0;for(i=0,r=n.length;r>i;i++)o=n[i],s=!1,s=0===e.tags.length?!0:o.resource.tags.intersects(e.tags),s&&(c++,o.status!==a.LOADED&&o.status!==a.ERROR&&o.status!==a.TIMEOUT||u++);e.callback({resource:t.resource,loaded:t.status===a.LOADED,error:t.status===a.ERROR,timeout:t.status===a.TIMEOUT,completedCount:u,totalCount:c})},p=this.log=function(t){if(window.console){var i=Math.round((Date.now()-e)/1e3);window.console.log("PxLoader elapsed: "+i+" sec");for(var r=0,o=n.length;o>r;r++){var s=n[r];if(t||s.status===a.WAITING){var u="PxLoader: #"+r+" "+s.resource.getName();switch(s.status){case a.QUEUED:u+=" (Not Started)";break;case a.WAITING:u+=" (Waiting)";break;case a.LOADED:u+=" (Loaded)";break;case a.ERROR:u+=" (Error)";break;case a.TIMEOUT:u+=" (Timeout)"}s.resource.tags.length>0&&(u+=" Tags: ["+s.resource.tags.all.join(",")+"]"),window.console.log(u)}}}}}function i(t){if(this.all=[],this.first=null,this.length=0,this.lookup={},t){if(Array.isArray(t))this.all=t.slice(0);else if("object"==typeof t)for(var e in t)t.hasOwnProperty(e)&&this.all.push(e);else this.all.push(t);this.length=this.all.length,this.length>0&&(this.first=this.all[0]);for(var n=0;n<this.length;n++)this.lookup[this.all[n]]=!0}}var r=require("./lib/loader/PxLoaderImage.js"),o=require("./lib/underscore"),a=window.$;i.prototype.intersects=function(t){if(0===this.length||0===t.length)return!1;if(1===this.length&&1===t.length)return this.first===t.first;if(t.length<this.length)return t.intersects(this);for(var e in this.lookup)if(t.lookup[e])return!0;return!1},"function"==typeof define&&define.amd&&define("PxLoader",[],function(){return n}),n.prototype.addImage=function(t,e,n,i){var o=new r(t,e,n,i);return this.add(o),o.img},n.prototype.checkAllImages=function(t){var e=[];return a(t).each(function(){"IMG"==a(this).prop("nodeName")?e.push(a(this).attr("img")||a(this).attr("src")):a(this).find("img").each(function(){e.push(a(this).attr("img")||a(this).attr("src"))})}),e},n.prototype.addImages=function(t,e,n,i){t=o.isArray(t)?t:this.checkAllImages(a(t)),t=o.uniq(t),t=o.without(t,null);for(var r=[],s=0;s<t.length;s++)r.push(this.addImage(t[s],e,n,i));return r},e.exports=n}),require.register("./lib/loader/PxLoaderImage.js",function(t,e){function n(t,e,n,i){var r=this,o=null;this.img=new Image,void 0!==i&&(this.img.crossOrigin=i),this.tags=e,this.priority=n;var a=function(){"complete"===r.img.readyState&&(c(),o.onLoad(r))},s=function(){c(),o.onLoad(r)},u=function(){c(),o.onError(r)},c=function(){r.unbind("load",s),r.unbind("readystatechange",a),r.unbind("error",u)};this.start=function(e){o=e,r.bind("load",s),r.bind("readystatechange",a),r.bind("error",u),r.img.src=t},this.checkStatus=function(){r.img.complete&&(c(),o.onLoad(r))},this.onTimeout=function(){c(),r.img.complete?o.onLoad(r):o.onTimeout(r)},this.getName=function(){return t},this.bind=function(t,e){r.img.addEventListener?r.img.addEventListener(t,e,!1):r.img.attachEvent&&r.img.attachEvent("on"+t,e)},this.unbind=function(t,e){r.img.removeEventListener?r.img.removeEventListener(t,e,!1):r.img.detachEvent&&r.img.detachEvent("on"+t,e)}}e.exports=n}),require.register("./lib/dom",function(t,e){function n(t){this.baseUrl="",this.dom=u(t)}function i(t){var e=this,n=t.attr("image-data");return n&&t.attr("src",e.getAssetUrl(n)),e}var r=(require("./lib/underscore"),require("./lib/size")),o=require("./lib/css"),a=require("./lib/input"),s=require("./lib/loader"),u=window.$;n.prototype.smartCss=function(t,e){this.dom.css(o.smartObject(t,e))},n.prototype.smartTransition=function(t){this.dom.css(o.transitionObject(t))},n.prototype.transformOrigin=function(t,e,n){this.dom.css(o.transformOriginObject(t,e,n))},n.prototype.boxShadow=function(t){this.dom.css(o.fixCss("box-shadow",t))},n.prototype.size=function(){return new r(0,0,this.dom.width(),this.dom.height())},n.prototype.fillInRec=function(t){var e=this.size().fillInRec(t),n=o.transformObject(e,"px");return this.dom.css(o.transformOriginObject(0,0)),this.dom.css(n),e},n.prototype.fixInRec=function(t){var e=this.size().fixInRec(t),n=o.transformObject(e,"px");return this.dom.css(o.transformOriginObject(0,0)),this.dom.css(n),e},n.prototype.scrollTo=function(t,e){var n=this,i=u(n.dom);i.offset()||(i=u(i.first()));var r=i.offset(),o={};o.scrollTop=r.top+"px",o.scrollLeft=r.left+"px",window.Zepto?console.log("UIGoMark is not support Zepto"):u("html,body").animate(o,t,function(){e&&e(n)})},n.prototype.maskImage=function(t){this.dom.css(o.fixCss("mask-image","url("+t+")"))},n.prototype.preLoadImages=function(t){var e=this,n=new s;this.preloader=n,n.addImages(n.checkAllImages(e.dom)),t&&n.addCompletionListener(t),n.start()},n.prototype.getAssetUrl=function(t){return a.isHttp(t)||a.isHttps(t)?t:this.baseUrl+t},n.prototype.displayImages=function(){var t=this;return u(t.dom).each(function(){"img"==u(this).prop("nodeName").toLowerCase()?i(u(this)):u(this).find("img").each(function(){i(u(this))})}),t},e.exports=n}),require.register("./lib/pro-css-animate",function(t,e){var n=(require("./lib/css"),require("./lib/underscore")),i=require("./lib/tween"),r=require("./lib/dom"),o=window.$,a=function(t,e,i,a){this.dom=o(t),this.smartDom=new r(t),this.from=e,this.to=i,this.option=n.extend({min:0,max:1,ext:"px",outRangeUpdate:!0,limitToRange:!0},a),this.option.size=this.option.max-this.option.min,this.init()};a.prototype.init=function(){var t=this;t.value=0,t.current={};for(var e in t.to){var n=parseFloat(t.to[e]);t.from.hasOwnProperty(e)||(t.from[e]=n)}t.updateDom=function(){t.smartDom.smartCss(t.current,t.option.ext)},t.updateValue=function(e){if(t.value=e,t.realValue=(e-t.option.min)/t.option.size,0!=t.option.outRangeUpdate||!(t.realValue<0||t.realValue>1)){1==t.option.limitToRange&&(t.realValue=Math.max(Math.min(t.realValue,1),0));var n;for(var i in t.to){var r=t.to[i],o=t.from[i];n=r-o,n=t.realValue*n,t.current[i]=n+o}t.updateDom()}},t.updateValue(0)};var s=function(){this.init()};s.prototype.init=function(){var t=this;t.list=[],t.value=0,t.add=function(e){t.list.push(e)},t.remove=function(e){t.list=n.without(t.list,e)},t.updateAnimates=function(){n.each(t.list,function(e){e.updateValue(t.value)})},t.updateValue=function(e){t.value=e,t.updateAnimates()},t.tweenTo=function(e,n,r){r||(r=i.Sine.inOut),n||(n=.5);var o={value:t.value};return VA.Tween.to(o,n,{value:e}).ease(r).step(function(e){t.updateValue(o.value)})}},s.prototype.createAnimate=function(t,e,n,i){return new a(t,e,n,i)},e.exports=s}),require.register("./lib/toggle-button",function(t,e){function n(t,e){this.init(t,e)}var i=window.$,r=require("./lib/underscore");n.prototype.init=function(t,e){var n=this;this.dom=i(t),this.opt=r.extend({select:!1},e),this.select=this.opt.select,this.setSelect(this.select),this.dom.click(function(){n.click()})},n.prototype.setSelect=function(t){this.select=t,this.select?this.dom.addClass("selected"):this.dom.removeClass("selected"),this.select?this.opt.onselect&&this.opt.onselect(this):this.opt.unselect&&this.opt.unselect(this)},n.prototype.setSelectSilence=function(t){this.select=t,this.select?this.dom.addClass("selected"):this.dom.removeClass("selected")},n.prototype.click=function(){this.setSelect(!this.select)},e.exports=n}),require.register("./lib/ajax-file-upload",function(t,e){(function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(n,i){var r;r={url:"",additionalData:{},autoUpload:!1,dataType:"json",method:"post",pathToSwf:"/dist/AjaxFileUpload.swf",showCustomInput:!1,buttonEmptyText:"Select",buttonSelectedText:"Upload",multiple:!1,sizeLimit:0,allowedTypes:[],onSuccess:function(){},onError:function(){},onFileSelect:function(){},onProgress:function(){},onProgressStart:function(){},onProgressEnd:function(){}};var a=this;this.input=n,this.upload=e(this.upload,this),this.reset=e(this.reset,this),this.settings=f.merge(r,i),(this.input.multiple||this.settings.multiple)&&(this.input.multiple=!0,this.settings.multiple=!0),this.settings.allowedTypes.length>0&&f.attr(this.input,{accept:this.settings.allowedTypes.join()}),""===this.settings.url&&(this.settings.url=this.input.getAttribute("data-url")),""===this.settings.url&&""!==this.input.form.action&&(this.settings.url=this.input.form.action),""!==this.settings.url&&(this.settings.additionalData!=={}&&(this.settings.url+="?"+f.serialize(this.settings.additionalData)),this.settings.showCustomInput&&p(this),h.fileAPI&&h.formData?this.input.addEventListener("change",function(t){return l(t,a)}):o(this),window.AjaxFileUpload=window.AjaxFileUpload||t,window.AjaxFileUpload.instances=t.instances||[],window.AjaxFileUpload.instances[this.input.id]=this)}var n,i,r,o,a,s,u,c,l,h,p,f,d,m;return t.prototype.reset=function(){var t,e;t=document.getElementById("fu-button-"+this.input.id),null!=t&&(t.innerHTML=this.settings.buttonEmptyText),e=document.getElementById("fu-input-"+this.input.id),null!=e&&(e.value=""),this.input.value="",f.css(this.input,{display:"block"})},t.prototype.upload=function(){return n(this)},l=function(t,e){var i,o,a;a=e.settings,m(e)&&(a.autoUpload&&e.upload(),a.onFileSelect.apply(a,[t.target.files]),a.showCustomInput&&(i=document.getElementById("fu-button-"+t.target.id),o=document.getElementById("fu-input-"+t.target.id),i.innerHTML=a.buttonSelectedText,f.css(e.input,{display:"none"}),i.onclick=function(){return n(e),!1},r(o,t.target.files)))},n=function(t){var e,n,i,r,o,l;if(0!==t.input.files.length){i=new XMLHttpRequest,i.upload?(i.upload.addEventListener("progress",function(e){return a(e,t)}),i.upload.addEventListener("loadstart",function(e){return u(e,t)}),i.upload.addEventListener("load",function(e){return s(e,t)})):i.addEventListener("progress",function(e){return a(e,t)}),i.addEventListener("readystatechange",function(e){return c(e,t)}),n=new FormData,l=t.input.files;var h=$(t.input).attr("name");for(r=0,o=l.length;o>r;r++)e=l[r],n.append(h||e.name,e);switch(i.open(t.settings.method,t.settings.url,!0),t.settings.dataType){case"json":i.setRequestHeader("Accept","application/json");break;case"xml":i.setRequestHeader("Accept","text/xml")}i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.send(n)}},c=function(t,e){var n,i,r,o;i=t.target,4===i.readyState&&(n=i.responseText,~i.getResponseHeader("content-type").indexOf("application/json")&&window.JSON&&(n=JSON.parse(n)),200===i.status||201===i.status?((r=e.settings).onSuccess.apply(r,[n,e.input.files,i]),e.reset()):(o=e.settings).onError.apply(o,[n,e.input.files,i]))},u=function(t,e){var n;return e.settings.showCustomInput&&(document.getElementById("fu-wrap-"+e.input.id).className+=" fu-loading"),(n=e.settings).onProgressStart.apply(n,[e.input.files,t.target])},a=function(t,e){var n;return(n=e.settings).onProgress.apply(n,[t.loaded,t.total,e.input.files,t.target])},s=function(t,e){var n,i;return e.settings.showCustomInput&&(n=document.getElementById("fu-wrap-"+e.input.id),n.className=n.className.replace(" fu-loading","")),(i=e.settings).onProgressEnd.apply(i,[e.input.files,t.target])},o=function(t){var e,n,r,o,a,s,u,c,l,h,p;if(o="fu-embed-"+t.input.id,!document.getElementById(null!==o)){e=t.settings.allowedTypes,e=e.join(";").replace(/[a-z]*\//gi,"*."),a={id:t.input.id,url:t.settings.url,method:t.settings.method,multiple:t.settings.multiple,additionalData:t.settings.additionalData,sizeLimit:t.settings.sizeLimit,allowedTypes:e},c={movie:t.settings.pathToSwf,quality:"low",play:"true",loop:"true",wmode:"transparent",scale:"noscale",menu:"true",devicefont:"false",salign:"",allowScriptAccess:"sameDomain",flashvars:f.serialize(a)},n={src:t.settings.pathToSwf,id:o,name:"fu-embed-"+t.input.id,classid:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",type:"application/x-shockwave-flash",pluginspage:"http://www.adobe.com/go/getflashplayer",FlashVars:f.serialize(a),width:t.input.offsetWidth+5,height:t.input.offsetHeight+5},r=document.getElementById(o),r||(r=document.createElement("embed")),p=document.getElementById("fu-wrap-"+t.input.id),i(r,p);for(s in c)h=c[s],c.hasOwnProperty(s)&&(u=document.createElement("param"),f.attr(u,{name:s,value:h}));f.attr(r,f.merge(n,c)),f.css(r,{position:"absolute",top:0,left:0,opacity:0,cursor:"pointer"}),t.settings.showCustomInput?(l=document.getElementById("fu-button-"+t.input.id),l.parentNode.insertBefore(r,l.nextSibling),t.input.style.display="none"):t.input.parentNode.insertBefore(r,t.input.nextSibling)}},i=function(t,e){return t.onmouseover=function(){return f.attr(e,{"class":"fu-wrap fu-hover"})},t.onmouseout=function(){return f.attr(e,{"class":"fu-wrap"})},t.onmousedown=function(){return f.attr(e,{"class":"fu-wrap fu-active"})},t.onmouseup=function(){return f.attr(e,{"class":"fu-wrap"})}},p=function(t){var e,n,r,o,a;return r=t.input,a="fu-wrap-"+r.id,null!==document.getElementById(a)?!1:(o=document.createElement("div"),f.attr(o,{"class":"fu-wrap",id:a}),f.css(o,{position:"relative"}),n=document.createElement("input"),f.attr(n,{type:"text",disabled:"disabled","class":"fu-input",id:"fu-input-"+r.id}),e=document.createElement("button"),f.attr(e,{"class":"fu-button button",id:"fu-button-"+r.id}),t.settings.autoUpload?e.innerHTML=t.settings.buttonSelectedText:e.innerHTML=t.settings.buttonEmptyText,e.onclick=function(){return e.innerHTML===t.settings.buttonSelectedText&&t.upload(),!1},o.appendChild(n),o.appendChild(e),r.parentNode.insertBefore(o,r.nextSibling),o.appendChild(r),f.css(r,{position:"absolute",top:0,left:0,opacity:0}),i(r,o),f.css(r,{width:document.getElementById(a).clientWidth+"px",height:document.getElementById(a).clientHeight+"px"}),r)},r=function(t,e){var n,i,r,o;if(0!==e.length){if(1===e.length)return t.value=e[0].name;if(e.length>1){for(i="",r=0,o=e.length;o>r;r++)n=e[r],i+=n.name+" ";return t.value=i}}},f={css:function(t,e){var n,i;for(n in e)i=e[n],t.style[n]=i},attr:function(t,e){var n,i;for(n in e)i=e[n],"class"===n?t.className=i:e.hasOwnProperty(n)&&t.setAttribute(n,i)},serialize:function(t,e){var n,i,r,o;r=[];for(i in t)o=t[i],n=e?e+"["+i+"]":i,"object"==typeof o?r.push(f.serialize(o,n)):r.push(encodeURIComponent(n)+"="+encodeURIComponent(o));return r.join("&")},merge:function(t,e){var n;for(n in e)try{e[n].constructor===Object?t[n]=f.merge(t[n],e[n]):t[n]=e[n]}catch(i){t[n]=e[n]}return t}},h={fileAPI:!!(window.File&&window.FileReader&&window.FileList&&window.Blob),formData:!!window.FormData,fileTypeFiltering:"string"==typeof document.createElement("input").accept,progressbar:void 0!==document.createElement("progress").max},d={sizeLimit:function(t,e){return e>=t},fileType:function(t,e){var n,i,r,o;if(e===[]||!h.fileTypeFiltering)return!0;if(n=!1,e)for(r=0,o=e.length;o>r;r++)i=e[r],~i.indexOf(t)&&(n=!0);return n}},m=function(t){var e,n,i,r,o,a;if(n=t.input.files,r=t.settings,i=[],0===n.length)return r.onError.apply(t,["No file selected"]),!1;for(o=0,a=n.length;a>o;o++)e=n[o],0===r.sizeLimit||d.sizeLimit(e.size,r.sizeLimit)||i.push('"'+e.name+'" is '+e.size+" bytes. Your provided limit is "+r.sizeLimit+" bytes."),0===r.allowedTypes.length||d.fileType(e.type,r.allowedTypes)||i.push('"'+e.name.split(".")[1]+'" is not a valid file type/extension: '+r.allowedTypes);return i.length>0&&r.onError.apply(t,i),0===i.length},t}.call(this),window.AjaxFileUpload=t,window.jQuery&&(jQuery.ajaxFileUpload=t,jQuery.fn.ajaxFileUpload=function(e){return this.each(function(n,i){new t(i,e)})}),"function"==typeof define&&define.amd&&define("ajaxFileUpload",[],function(){return t})}).call(this),e.exports=AjaxFileUpload}),require.register("./lib/fast-click",function(t,e){!function(){"use strict";function t(e,i){function o(t,e){return function(){return t.apply(e,arguments)}}e=n(e).get(0);var a;if(i=i||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=i.touchBoundary||10,this.layer=e,this.tapDelay=i.tapDelay||200,this.tapTimeout=i.tapTimeout||700,!t.notNeeded(e)){for(var s=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],u=this,c=0,l=s.length;l>c;c++)u[s[c]]=o(u[s[c]],u);r&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,i){var r=Node.prototype.removeEventListener;"click"===t?r.call(e,t,n.hijacked||n,i):r.call(e,t,n,i)},e.addEventListener=function(t,n,i){var r=Node.prototype.addEventListener;"click"===t?r.call(e,t,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),i):r.call(e,t,n,i)}),"function"==typeof e.onclick&&(a=e.onclick,e.addEventListener("click",function(t){a(t)},!1),e.onclick=null)}}var n=window.$,i=navigator.userAgent.indexOf("Windows Phone")>=0,r=navigator.userAgent.indexOf("Android")>0&&!i,o=/iP(ad|hone|od)/.test(navigator.userAgent)&&!i,a=o&&/OS 4_\d(_\d)?/.test(navigator.userAgent),s=o&&/OS [6-7]_\d/.test(navigator.userAgent),u=navigator.userAgent.indexOf("BB10")>0;t.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(o&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},t.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!r;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},t.prototype.sendClick=function(t,e){var n,i;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),i=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},t.prototype.determineEventType=function(t){return r&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},t.prototype.focus=function(t){var e;o&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},t.prototype.updateScrollParent=function(t){var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},t.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},t.prototype.onTouchStart=function(t){var e,n,i;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],o){if(i=window.getSelection(),i.rangeCount&&!i.isCollapsed)return!0;if(!a){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},t.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n},t.prototype.onTouchMove=function(t){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},t.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},t.prototype.onTouchEnd=function(t){var e,n,i,u,c,l=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,s&&(c=t.changedTouches[0],l=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset)||l,l.fastClickScrollParent=this.targetElement.fastClickScrollParent),i=l.tagName.toLowerCase(),"label"===i){if(e=this.findControl(l)){if(this.focus(l),r)return!1;l=e}}else if(this.needsFocus(l))return t.timeStamp-n>100||o&&window.top!==window&&"input"===i?(this.targetElement=null,!1):(this.focus(l),this.sendClick(l,t),o&&"select"===i||(this.targetElement=null,t.preventDefault()),!1);return o&&!a&&(u=l.fastClickScrollParent,u&&u.fastClickLastScrollTop!==u.scrollTop)?!0:(this.needsClick(l)||(t.preventDefault(),this.sendClick(l,t)),!1)},t.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},t.prototype.onMouse=function(t){return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0},t.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},t.prototype.destroy=function(){var t=this.layer;r&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},t.notNeeded=function(t){var e,n,i,o;if("undefined"==typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!r)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(u&&(i=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),i[1]>=10&&i[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction?!0:(o=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],o>=27&&(e=document.querySelector("meta[name=viewport]"),e&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===t.style.touchAction||"manipulation"===t.style.touchAction)},t.attach=function(e,n){return new t(e,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return t}):"undefined"!=typeof e&&e.exports?(e.exports=t.attach,e.exports.FastClick=t):window.FastClick=t}()}),require.register("./lib/random-color",function(t,e){!function(n,i){if("function"==typeof define&&define.amd)define([],i);else if("object"==typeof t){var r=i();"object"==typeof e&&e&&e.exports&&(t=e.exports=r),t.randomColor=r}else n.randomColor=i()}(this,function(){function t(t){var e=o(t.hue),n=u(e);return 0>n&&(n=360+n),n}function e(t,e){if("random"===e.luminosity)return u([0,100]);if("monochrome"===e.hue)return 0;var n=a(t),i=n[0],r=n[1];switch(e.luminosity){case"bright":i=55;break;case"dark":i=r-10;break;case"light":r=55}return u([i,r])}function n(t,e,n){var i=r(t,e),o=100;switch(n.luminosity){case"dark":o=i+20;break;case"light":i=(o+i)/2;break;case"random":i=0,o=100}return u([i,o])}function i(t,e){switch(e.format){case"hsvArray":return t;case"hslArray":return f(t);case"hsl":var n=f(t);return"hsl("+n[0]+", "+n[1]+"%, "+n[2]+"%)";case"rgbArray":return p(t);case"rgb":var i=p(t);return"rgb("+i.join(", ")+")";default:return c(t)}}function r(t,e){for(var n=s(t).lowerBounds,i=0;i<n.length-1;i++){
var r=n[i][0],o=n[i][1],a=n[i+1][0],u=n[i+1][1];if(e>=r&&a>=e){var c=(u-o)/(a-r),l=o-c*r;return c*e+l}}return 0}function o(t){if("number"==typeof parseInt(t)){var e=parseInt(t);if(360>e&&e>0)return[e,e]}if("string"==typeof t&&m[t]){var n=m[t];if(n.hueRange)return n.hueRange}return[0,360]}function a(t){return s(t).saturationRange}function s(t){t>=334&&360>=t&&(t-=360);for(var e in m){var n=m[e];if(n.hueRange&&t>=n.hueRange[0]&&t<=n.hueRange[1])return m[e]}return"Color not found"}function u(t){if(null==d)return Math.floor(t[0]+Math.random()*(t[1]+1-t[0]));var e=t[1]||1,n=t[0]||0;d=(9301*d+49297)%233280;var i=d/233280;return Math.floor(n+i*(e-n))}function c(t){function e(t){var e=t.toString(16);return 1==e.length?"0"+e:e}var n=p(t),i="#"+e(n[0])+e(n[1])+e(n[2]);return i}function l(t,e,n){var i=n[0][0],r=n[n.length-1][0],o=n[n.length-1][1],a=n[0][1];m[t]={hueRange:e,lowerBounds:n,saturationRange:[i,r],brightnessRange:[o,a]}}function h(){l("monochrome",null,[[0,0],[100,0]]),l("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),l("orange",[19,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),l("yellow",[47,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),l("green",[63,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),l("blue",[179,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),l("purple",[258,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),l("pink",[283,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function p(t){var e=t[0];0===e&&(e=1),360===e&&(e=359),e/=360;var n=t[1]/100,i=t[2]/100,r=Math.floor(6*e),o=6*e-r,a=i*(1-n),s=i*(1-o*n),u=i*(1-(1-o)*n),c=256,l=256,h=256;switch(r){case 0:c=i,l=u,h=a;break;case 1:c=s,l=i,h=a;break;case 2:c=a,l=i,h=u;break;case 3:c=a,l=s,h=i;break;case 4:c=u,l=a,h=i;break;case 5:c=i,l=a,h=s}var p=[Math.floor(255*c),Math.floor(255*l),Math.floor(255*h)];return p}function f(t){var e=t[0],n=t[1]/100,i=t[2]/100,r=(2-n)*i;return[e,Math.round(n*i/(1>r?r:2-r)*1e4)/100,r/2*100]}var d=null,m={};h();var g=function(r){r=r||{},r.seed&&!d&&(d=r.seed);var o,a,s;if(null!=r.count){var u=r.count,c=[];for(r.count=null;u>c.length;)c.push(g(r));return r.count=u,r.seed&&(d=r.seed),c}return o=t(r),a=e(o,r),s=n(o,a,r),i([o,a,s],r)};return g})}),require.register("./lib/easy-animation",function(t,e){function n(t,e){var n=this;n.elems={},n.serial=1,n.blocked=!1,n.domString=t,e.viewport=r(t)||r(window.document.documentElement),n.config=i.extend(n.defaults,e),n.init()}var i=require("./lib/underscore"),r=window.$;n.prototype={defaults:{enter:"bottom",move:"8px",over:"0.6s",wait:"0s",easing:"ease",scale:{direction:"up",power:"5%"},rotate:{x:0,y:0,z:0},opacity:0,mobile:!1,visible:!1,reset:!1,delay:"once",vFactor:.6,complete:function(t){}},init:function(){var t,e,n=this,i=[];n.config.viewport.attr("data-sr")&&i.push(n.config.viewport.get(0)),n.config.viewport.each(function(){i=i.concat(Array.prototype.slice.call(r(this).get(0).querySelectorAll("[data-sr]")))}),i.forEach(function(i){t=n.serial++,e=n.elems[t]={domEl:i},e.config=n.configFactory(e),e.styles=n.styleFactory(e),e.seen=!1,i.removeAttribute("data-sr"),i.setAttribute("style",e.styles.inline+e.styles.initial)}),1==n.config.visible?n.show():n.hide()},show:function(){this.animate(!0)},hide:function(){this.animate(!1)},toggle:function(t){this.visible?this.hide(t):this.show(t)},animate:function(t){function e(t){var e=n.elems[t];setTimeout(function(){e.domEl.setAttribute("style",e.styles.inline),e.config.complete(e.domEl),delete n.elems[t]},e.styles.duration)}var n=this;this.visible=t;var i,r;for(i in n.elems)n.elems.hasOwnProperty(i)&&(r=n.elems[i],t?("always"===n.config.delay||"onload"===n.config.delay&&flag||"once"===n.config.delay&&!r.seen?r.domEl.setAttribute("style",r.styles.inline+r.styles.target+r.styles.transition):r.domEl.setAttribute("style",r.styles.inline+r.styles.target+r.styles.reset),r.seen=!0,r.config.reset||r.animating||(r.animating=!0,e(i))):!t&&r.config.reset&&r.domEl.setAttribute("style",r.styles.inline+r.styles.initial+r.styles.reset));n.blocked=!1},configFactory:function(t){var e=this,n={},r={},o=t.domEl.getAttribute("data-sr").split(/[, ]+/);return o.forEach(function(t,e){switch(t){case"enter":n.enter=o[e+1];break;case"wait":n.wait=o[e+1];break;case"move":n.move=o[e+1];break;case"ease":n.move=o[e+1],n.ease="ease";break;case"ease-in":if("up"==o[e+1]||"down"==o[e+1]){n.scale.direction=o[e+1],n.scale.power=o[e+2],n.easing="ease-in";break}n.move=o[e+1],n.easing="ease-in";break;case"ease-in-out":if("up"==o[e+1]||"down"==o[e+1]){n.scale.direction=o[e+1],n.scale.power=o[e+2],n.easing="ease-in-out";break}n.move=o[e+1],n.easing="ease-in-out";break;case"ease-out":if("up"==o[e+1]||"down"==o[e+1]){n.scale.direction=o[e+1],n.scale.power=o[e+2],n.easing="ease-out";break}n.move=o[e+1],n.easing="ease-out";break;case"hustle":if("up"==o[e+1]||"down"==o[e+1]){n.scale.direction=o[e+1],n.scale.power=o[e+2],n.easing="cubic-bezier( 0.6, 0.2, 0.1, 1 )";break}n.move=o[e+1],n.easing="cubic-bezier( 0.6, 0.2, 0.1, 1 )";break;case"over":n.over=o[e+1];break;case"flip":case"pitch":n.rotate=n.rotate||{},n.rotate.x=o[e+1];break;case"spin":case"yaw":n.rotate=n.rotate||{},n.rotate.y=o[e+1];break;case"roll":n.rotate=n.rotate||{},n.rotate.z=o[e+1];break;case"reset":"no"==o[e-1]?n.reset=!1:n.reset=!0;break;case"scale":if(n.scale={},"up"==o[e+1]||"down"==o[e+1]){n.scale.direction=o[e+1],n.scale.power=o[e+2];break}n.scale.power=o[e+1];break;case"vFactor":case"vF":n.vFactor=o[e+1];break;case"opacity":n.opacity=o[e+1];break;default:return}}),r=i.extend(r,e.config),r=i.extend(r,n),"top"===r.enter||"bottom"===r.enter?r.axis="Y":"left"!==r.enter&&"right"!==r.enter||(r.axis="X"),"top"!==r.enter&&"left"!==r.enter||(r.move="-"+r.move),r},styleFactory:function(t){function e(){0!==parseInt(s.move)&&(i+=" translate"+s.axis+"("+s.move+")",o+=" translate"+s.axis+"(0)"),0!==parseInt(s.scale.power)&&("up"===s.scale.direction?s.scale.value=1-.01*parseFloat(s.scale.power):"down"===s.scale.direction&&(s.scale.value=1+.01*parseFloat(s.scale.power)),i+=" scale("+s.scale.value+")",o+=" scale(1)"),s.rotate.x&&(i+=" rotateX("+s.rotate.x+")",o+=" rotateX(0)"),s.rotate.y&&(i+=" rotateY("+s.rotate.y+")",o+=" rotateY(0)"),s.rotate.z&&(i+=" rotateZ("+s.rotate.z+")",o+=" rotateZ(0)"),i+="; opacity: "+s.opacity+"; ",o+="; opacity: 1; "}var n,i,r,o,a,s=t.config,u=1e3*(parseFloat(s.over)+parseFloat(s.wait));return n=t.domEl.getAttribute("style")?t.domEl.getAttribute("style")+"; visibility: visible; ":"visibility: visible; ",a="-webkit-transition: -webkit-transform "+s.over+" "+s.easing+" "+s.wait+", opacity "+s.over+" "+s.easing+" "+s.wait+"; transition: transform "+s.over+" "+s.easing+" "+s.wait+", opacity "+s.over+" "+s.easing+" "+s.wait+"; -webkit-perspective: 1000;-webkit-backface-visibility: hidden;",r="-webkit-transition: -webkit-transform "+s.over+" "+s.easing+" 0s, opacity "+s.over+" "+s.easing+" 0s; transition: transform "+s.over+" "+s.easing+" 0s, opacity "+s.over+" "+s.easing+" 0s; -webkit-perspective: 1000; -webkit-backface-visibility: hidden; ",i="transform:",o="transform:",e(),i+="-webkit-transform:",o+="-webkit-transform:",e(),{transition:a,initial:i,target:o,reset:r,inline:n,duration:u}}},e.exports=n}),require.register("./lib/easy-animation-manager",function(t,e){function n(t){this.init(t)}var i=require("./lib/underscore"),r=require("./lib/easy-animation");n.prototype.init=function(t){this.config=i.extend({single:!0,animations:{}},t),this.animations=this.config.animations,this.currentAnimations=[]},n.prototype.addAnimations=function(t,e){for(var n=0;n<t.length;n++)this.addAnimation(t[n],new r(t[n],e))},n.prototype.addAnimation=function(t,e){return this.getAnimationByID(t)?void console.log("["+t+"]  id is used"):(this.animations[t]=e,void(e.visible&&this.currentAnimations.push(e)))},n.prototype.removeAnimation=function(t){this.getAnimationByID(t)&&delete this.animations[t]},n.prototype.hide=function(t){t.hide(),this.currentAnimations=i.without(this.currentAnimations,t)},n.prototype.hideAll=function(){for(;this.currentAnimations.length>0;)this.hide(this.currentAnimations.shift())},n.prototype.showAll=function(){var t=this;i.each(this.animations,function(e){t.show(e)})},n.prototype.showByID=function(t){this.getAnimationByID(t)&&this.show(this.animations[t])},n.prototype.hideByID=function(t){this.getAnimationByID(t)&&this.hide(this.animations[t])},n.prototype.toggleByID=function(t){this.getAnimationByID(t)&&this.toggle(this.animations[t])},n.prototype.getAnimationByID=function(t){return this.animations.hasOwnProperty(t)?this.animations[t]:!1},n.prototype.toggle=function(t){-1==i.indexOf(this.currentAnimations,t)?this.show(t):this.hide(t)},n.prototype.show=function(t){-1==i.indexOf(this.currentAnimations,t)&&(this.config.single&&this.hideAll(),t.show(),this.currentAnimations.push(t))},e.exports=n}),require.register("./lib/form",function(t,e){function n(t){this.dom=r(t)}var i=require("./lib/underscore"),r=window.$,o=require("./lib/util");n.prototype.email=function(t){var e=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;return e.test(t)},n.prototype.radioHtml=function(t,e,n,r){n=n||' <input type="radio" name="{name}" value="{value}" {checked}/>{label} ',r=r||"";var a="";return i.each(t,function(t,s){var u=s==e?"checked":"";i.isObject(t)||(t={name:r,value:s,label:t}),t.checked=u,a+=o.nano(n,t)}),a},n.prototype.checkboxHtml=function(t,e,n){e=e||' <input type="checkbox" name="{name}" value="{value}" {checked}/>{label} ';var r="";return i.each(t,function(t,n){t.checked=1==t.checked?"checked":"",r+=o.nano(e,t)}),r},n.prototype.comboboxHtmlByObj=function(t,e){var n="";return i.each(t,function(t,i){var r=i==e?"selected":"";n+='<option value="'+i+'" '+r+">"+t+"</option>"}),n},n.prototype.comboboxHtmlByArray=function(t,e,n,r){var o="";return i.each(t,function(t){var i=t[n]==r?"selected":"";o+='<option value="'+t[n]+'" '+i+">"+t[e]+"</option>"}),o},n.prototype.getInput=function(t,e){for(var n,i=this.dom,r="",o=100,a=0;!n;){var s=i.find("[name='"+t+"']");if(s.size()>0){s.size()>1?(r=i.find("[name='"+t+"']:checked").val(),void 0!=e&&i.find("[name='"+t+"'][value='"+e+"']").click()):"checkbox"==s.attr("type")?(r=s.is(":checked"),void 0!=e&&(s.removeAttr("checked"),1==e&&s.click())):(r=s.val(),void 0!=e&&s.val(e)),n=!0;break}if(a++,a>o)break;i=i.parent()}return r},n.prototype.clearInputs=function(){var t=this;return this.dom.find("input").each(function(){var e=r(this),n=e.attr("name"),i="";t.getInput(n,i)}),!0},n.prototype.initInputs=function(t,e){var n,r=this;n=e?i.object(t,e):t;var o={};return i.each(n,function(t,e,n){o[e]=r.getInput(e,t)}),o},n.prototype.getInputs=function(t){var e=this;o.isString(t)&&(t=[t]);for(var n={},i=0;i<t.length;i++)n[t[i]]=e.getInput(t[i]);return n},e.exports=n}),require.register("./lib/movie-clip",function(t,e){function n(t,e){return i(t).data("movieclip")?(console.log("inited movieclip"),i(t).data("movieclip")):(this.dom=i(t),this.option={},this.option.frameTime=100,this.option.playOnce=!1,this.option.loop=!0,this.option.defaultActon={name:"default",frames:[1,-1]},void(this.option=i.extend(this.option,e)))}var i=(require("./lib/underscore"),window.$),r=require("./lib/event-dispatcher"),o=require("./lib/util");n.prototype.init=function(){r.prototype.apply(n.prototype);var t=this;return t.frames=t.dom.find(".movieclip_frame"),t.frames.css({padding:"0px"}),t.currentFrame=1,t.totalFrame=t.frames.size(),t.playing=!1,t.loop=this.option.loop,this.option.defaultActon.frames[1]=t.totalFrame,t.action=t.option.actions?t.option.actions[0]:this.option.defaultActon,t.frame=function(e){t.frames.hide(),i(t.frames.toArray()[e-1]).show(),t.currentFrame=e,t.dispatchEvent({type:"frame",frame:t.currentFrame})},t.nextFrame=function(){return t.currentFrame<t.action.frames[1]?t.frame(t.currentFrame+1):t.frame(t.action.frames[0]),0==t.loop&&t.currentFrame==t.action.frames[1]?(t.stop(),t):void(1==t.playing&&t.autoNextFrame())},t.autoNextFrame=function(){t.playing_iv=setTimeout(t.nextFrame,t.option.frameTime)},t.clearAutoNextFrame=function(){clearTimeout(t.playing_iv)},t.delayPlay=function(e){clearTimeout(t.iv),t.iv=setTimeout(t.play,e)},t.play=function(){clearTimeout(t.iv),1!=t.playing&&(t.clearAutoNextFrame(),t.autoNextFrame(),t.playing=!0,t.dispatchEvent({type:"play",frame:t.currentFrame}),t.frame(t.currentFrame))},t.pause=function(){0!=t.playing&&(t.clearAutoNextFrame(),t.playing=!1,t.dispatchEvent({type:"pause",frame:t.currentFrame}))},t.stop=function(){0!=t.playing&&(t.clearAutoNextFrame(),t.playing=!1,t.dispatchEvent({type:"stop",frame:t.currentFrame}))},t.skipToAction=function(e){for(var n=0;n<t.option.actions.length;n++)if(e==t.option.actions[n].name){t.action=t.option.actions[n];break}t.frame(t.action.frames[0]),t.play()},0==t.totalFrame?t:(t.frame(1),void i(t.dom).data("movieclip",t))},n.prototype.buildHtml=function(t,e,n,r,a,s){var u,c=0;if(s=s||0,r>n)for(var l=n;r>=l;l++)s>0&&(c++,c%s==0)||(u=i(e.replace("{ID}",o.intToString(l,a))),u.hide(),i(t).append(u));else for(var l=n;l>=r;l--)s>0&&(c++,c%s==0)||(u=i(e.replace("{ID}",o.intToString(l,a))),u.hide(),i(t).append(u))},e.exports=n}),require.register("./lib/url",function(t,e){var n=(require("./lib/underscore"),require("./lib/util")),i={};i.getParams=function(t){return t=t||String(window.location),n.stringToVars(t.split("?")[1])},i.getHashsString=function(t){return t=t||String(window.location),t.split("#")[1]},i.getHashs=function(t){return n.stringToVars(i.getHashsString(t))},i.setHashs=function(t){window.location=String(window.location).split("#")[0]+"#"+n.varsToString(t)},i.cachedHashs="",i.onHashChange=function(t){function e(){var t=n.getHashsString();return t==n.cachedHashs?!1:(n.cachedHashs=t,!0)}var n=this;"onhashchange"in window&&("undefined"==typeof document.documentMode||8==document.documentMode)?window.onhashchange=t:setInterval(function(){var n=e();n&&t()},150)},i.getUrl=function(t){window.location=t},i.reload=function(){location.reload()},i.getPath=function(t){var e=t||window.location.href,n=e.lastIndexOf("/index.php");return n>0&&(e=e.substr(0,n+1)),n=e.indexOf("?"),n>0&&(e=e.substr(0,n+1)),n=e.lastIndexOf("/"),e.substr(0,n+1)},i.getFileName=function(t){var e=t.lastIndexOf("/");-1==e&&(e=t.lastIndexOf("\\"));var n=t.substr(e+1),i=n.substring(0,n.lastIndexOf(".")),r=n.substr(n.lastIndexOf(".")+1);return{name:i,ext:r}},e.exports=i}),require.register("./lib/video",function(t,e){function n(t){this.init(t)}var i=require("./lib/underscore"),r=require("./lib/event-dispatcher");n.prototype={init:function(t){var e=this;if(r.prototype.apply(n.prototype),this.config=i.extend({autoplay:!0,autoload:!1},t),this.config.src){var o=$("<video></video>");0!=this.config.inline&&o.attr("webkit-playsinline",!0),this.video=o.get(0);for(var a in this.config)this.config.hasOwnProperty(a)&&a in this.video&&(this.video[a]=this.config[a]);this.video.oncanplay=function(){e.dispatchEvent({type:"canplay"})},this.video.onended=function(){e.dispatchEvent({type:"ended"})},this.video.onloadeddata=function(){e.dispatchEvent({type:"onloadeddata"})},this.endedCheck(),this.video.load()}else console.log("path is need")},removeEndedCheck:function(){clearInterval(this.iv)},endedCheck:function(){var t=this;t.removeEndedCheck(),this.iv=setInterval(function(){t.currentTime()<1||t.currentTime()>=t.duration()&&(t.dispatchEvent({type:"ended"}),t.removeEndedCheck())},100)},play:function(){this.endedCheck(),this.video.play(),this.dispatchEvent({type:"play"})},pause:function(){this.removeEndedCheck(),this.video.pause(),this.dispatchEvent({type:"pause"})},playing:function(){return!this.video.paused},currentTime:function(){return this.video.currentTime},duration:function(){return this.video.duration},stop:function(){this.video.pause(),this.removeEndedCheck(),this.dispatchEvent({type:"stop"})},destory:function(){this.video.src=""},toggle:function(){this.video.paused?this.play():this.pause()},seek:function(t){function e(t){var e=i;try{i.video.currentTime=t,i.video.paused&&i.video.play()}catch(n){i.video.one("canplay",function(){e.video.currentTime=t,e.video.paused&&e.video.play()})}i.endedCheck()}function n(t){if(!isNaN(t)){var r=null;r&&(clearTimeout(r),r=null);var o=i.video.seekable;1==o.length&&t<o.end(0)?e(t):r=setTimeout(function(){n(t)},100)}}var i=this;n(t)},percent:function(){return this.video.currentTime/this.video.duration||0}},e.exports=n}),require.register("./lib/device",function(t,e){function n(t){if(this.hasDeviceMotion="ondevicemotion"in window,this.options={threshold:15,timeout:1e3},"object"==typeof t)for(var e in t)t.hasOwnProperty(e)&&(this.options[e]=t[e]);if(this.lastTime=new Date,this.lastX=null,this.lastY=null,this.lastZ=null,"function"==typeof document.CustomEvent)this.event=new document.CustomEvent("shake",{bubbles:!0,cancelable:!0});else{if("function"!=typeof document.createEvent)return!1;this.event=document.createEvent("Event"),this.event.initEvent("shake",!0,!0)}}var i=(require("./lib/underscore"),{UC:!(!RegExp("Android").test(navigator.userAgent)||!RegExp("UC").test(navigator.userAgent)),wechat:!!RegExp("MicroMessenger").test(navigator.userAgent),iphone:!!(RegExp("iPhone").test(navigator.userAgent)||RegExp("iPod").test(navigator.userAgent)||RegExp("iPad").test(navigator.userAgent)),android:!!RegExp("Android").test(navigator.userAgent),isPC:function(){for(var t=navigator.userAgent,e=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"),n=!0,i=0;i<e.length;i++)if(t.indexOf(e[i])>0){n=!1;break}return n},removeSafariDefaultMove:function(t){t||(t="body"),$(t).attr("ontouchmove","event.preventDefault();")}});n.prototype.reset=function(){this.lastTime=new Date,this.lastX=null,this.lastY=null,this.lastZ=null},n.prototype.start=function(){this.reset(),this.hasDeviceMotion&&window.addEventListener("devicemotion",this,!1)},n.prototype.stop=function(){this.hasDeviceMotion&&window.removeEventListener("devicemotion",this,!1),this.reset()},n.prototype.devicemotion=function(t){var e,n,i=t.accelerationIncludingGravity,r=0,o=0,a=0;return null===this.lastX&&null===this.lastY&&null===this.lastZ?(this.lastX=i.x,this.lastY=i.y,void(this.lastZ=i.z)):(r=Math.abs(this.lastX-i.x),o=Math.abs(this.lastY-i.y),a=Math.abs(this.lastZ-i.z),(r>this.options.threshold&&o>this.options.threshold||r>this.options.threshold&&a>this.options.threshold||o>this.options.threshold&&a>this.options.threshold)&&(e=new Date,n=e.getTime()-this.lastTime.getTime(),n>this.options.timeout&&(window.dispatchEvent(this.event),this.lastTime=new Date)),this.lastX=i.x,this.lastY=i.y,void(this.lastZ=i.z))},n.prototype.handleEvent=function(t){return"function"==typeof this[t.type]?this[t.type](t):void 0},i.Shake=n,e.exports=i}),require.register("./lib/share",function(t,e){function n(t){this.init(t)}var i=require("./lib/underscore"),r=require("./lib/util"),o=(require("./lib/device"),require("./lib/url")),a=require("./lib/input"),s={},u={sdk:"http://api.visionape.cn/wechat/?",type:"SDK",jsApiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","hideMenuItems","showMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem","translateVoice","startRecord","stopRecord","onRecordEnd","playVoice","pauseVoice","stopVoice","uploadVoice","downloadVoice","chooseImage","previewImage","uploadImage","downloadImage","getNetworkType","openLocation","getLocation","hideOptionMenu","showOptionMenu","closeWindow","scanQRCode","chooseWXPay","openProductSpecificView","addCard","chooseCard","openCard"],shareData:{appmessage:{title:"",desc:"",img:"",link:""},timeline:{title:"",img:"",link:""}}};n.prototype._loadHtmlInfo=function(){function t(t){return t?a.isHttp(t)||a.isHttps(t)?t:o.getPath()+t:!1}this.config.shareData.appmessage.title=r.getContentByName("wxm:appmessage_title"),this.config.shareData.appmessage.desc=r.getContentByName("wxm:appmessage_desc"),this.config.shareData.appmessage.img_url=t(r.getContentByName("wxm:img_url"))||t("share.jpg"),this.config.shareData.appmessage.link=r.getContentByName("wxm:link")||o.getPath(),this.config.shareData.timeline.title=r.getContentByName("wxm:timeline_title"),this.config.shareData.timeline.img_url=t(r.getContentByName("wxm:img_url"))||t("share.jpg"),this.config.shareData.timeline.link=r.getContentByName("wxm:link")||o.getPath()},n.prototype._TXGAMESDK=function(t){var e=this;try{WXJssdk.init(function(n){t.apply(e,[n])})}catch(n){}},n.prototype._getSDK=function(t,e){var n=this;$.getJSON(this.config.sdk+"url="+encodeURIComponent(location.href.replace(/[\#][\s\S]*/,""))+"&callback=?",function(i){try{wx.config({appId:i.appId,timestamp:i.timestamp,nonceStr:i.nonceStr,signature:i.signature,jsApiList:e}),t.apply(n,[wx])}catch(r){}})},n.prototype.update=function(){try{var t=this;wx.ready(function(){wx.onMenuShareAppMessage({title:t.config.shareData.appmessage.title,desc:t.config.shareData.appmessage.desc,link:t.config.shareData.appmessage.link,imgUrl:t.config.shareData.appmessage.img_url,trigger:t.config.shareData.appmessage.trigger,success:t.config.shareData.appmessage.success||function(){},cancel:t.config.shareData.appmessage.cancel||function(){},fail:t.config.shareData.appmessage.fail||function(){}}),wx.onMenuShareTimeline({title:t.config.shareData.timeline.title,link:t.config.shareData.timeline.link,imgUrl:t.config.shareData.timeline.img_url,trigger:t.config.shareData.timeline.trigger,success:t.config.shareData.timeline.success||function(){},cancel:t.config.shareData.timeline.cancel||function(){},fail:t.config.shareData.timeline.fail||function(){}})})}catch(e){}},n.prototype.init=function(t){var e=this;this.config=i.extend(u,t),this._loadHtmlInfo(),"SDK"==this.config.type?r.getScript("http://res.wx.qq.com/open/js/jweixin-1.0.0.js",function(){e._getSDK(e.update,e.config.jsApiList)}):"TXGAME"==this.config.type&&r.getScript("http://ossweb-img.qq.com/images/js/WXJssdk.js",function(){e._TXGAMESDK(e.update)})},n.prototype.set=function(){3===arguments.length&&i.isString(arguments[0])&&i.isString(arguments[1])?this.config.shareData[arguments[0]][arguments[1]]=arguments[2]:console.log("[WechatShare] set ")},s.WechatShare=n,e.exports=s}),require.register("./lib/smartjs",function(t,e){"use strict";var n=require("./lib/underscore"),i=require("./lib/util"),r=require("./lib/css"),o=require("./lib/size"),a=require("./lib/input"),s=require("./lib/file"),u=require("./lib/file-button"),c=require("./lib/event-dispatcher"),l=require("./lib/drag"),h=require("./lib/sound"),p=require("./lib/tween"),f=require("./lib/css-animations"),d=require("./lib/pro-css-animate"),m=require("./lib/toggle-button"),g=require("./lib/ajax-file-upload"),v=require("./lib/fast-click"),y=require("./lib/random-color"),b=require("./lib/easy-animation"),w=require("./lib/easy-animation-manager"),x=require("./lib/form"),k=require("./lib/loader"),E=require("./lib/movie-clip"),T=require("./lib/device"),S=require("./lib/dom"),A=require("./lib/url"),C=require("./lib/video"),q=require("./lib/share"),I=function(t){this.copyright="www.2smart.cn",this._=n,this.Util=i,this.Css=r,this.Size=o,this.Input=a,this.File=s,this.FileButton=u,this.EventDispatcher=c,this.Drag=l,this.Sound=h,this.Tween=p,this.CssAnimations=f,this.ProCssAnimate=d,this.ToggleButton=m,this.AjaxFileUpload=g,this.FastClick=v,this.RandomColor=y,this.EasyAnimation=b,this.EasyAnimationManager=w,this.Form=x,this.Loader=k,this.MovieClip=E,this.Dom=S,this.Url=A,this.Video=C,this.Device=T,this.Share=q};e.exports=window.SmartJS=new I}),require("./lib/smartjs");